<div class="registro-container">
  <h2>Registro de Operaciones</h2>

  <form (ngSubmit)="agregarOperacion()">
    <label>Monto de compra ($):</label>
    <input type="number" [(ngModel)]="montoCompra" name="monto" required />

    <label>Precio de compra:</label>
    <input type="number" [(ngModel)]="precioCompra" name="precioCompra" required />

    <label>Precio de venta:</label>
    <input type="number" [(ngModel)]="precioVenta" name="precioVenta" required />

    <button type="submit">Agregar operaci√≥n</button>
  </form>

  <h3>Operaciones</h3>
  <table *ngIf="operaciones.length > 0">
    <thead>
      <tr>
        <th>Fecha</th>
        <th>Monto</th>
        <th>Compra</th>
        <th>Venta</th>
        <th>Cantidad</th>
        <th>Ganancia</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let op of operaciones">
        <td>{{ op.fecha | date:'short' }}</td>
        <td>${{ op.montoCompra | number:'1.2-2' }}</td>
        <td>${{ op.precioCompra }}</td>
        <td>${{ op.precioVenta }}</td>
        <td>{{ op.cantidad | number:'1.2-2' }}</td>
        <td [style.color]="op.ganancia >= 0 ? 'green' : 'red'">
          ${{ op.ganancia | number:'1.2-2' }}
        </td>
      </tr>
    </tbody>
  </table>

  <div *ngIf="operaciones.length > 0" class="balance">
    <strong>Balance total:</strong>
    <span [style.color]="balanceTotal >= 0 ? 'green' : 'red'">
      ${{ balanceTotal | number:'1.2-2' }}
    </span>
  </div>

  <button (click)="borrarTodo()">Borrar todo</button>
</div>
